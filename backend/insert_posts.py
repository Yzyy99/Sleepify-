import os
import django
from datetime import datetime, timedelta

# 设置 Django 环境
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "config.settings")
django.setup()

from forum.models import ForumPost

index = 60

# 数据列表
sleep_topics = [
    "房间里的空气太干燥，晚上睡觉总觉得喉咙不舒服。",
    "因为感冒鼻塞，晚上呼吸困难，睡眠很浅。",
    "半夜总是听见电话响的幻觉，导致睡眠中断。",
    "用了智能手环监测睡眠，发现深睡时间很短。",
    "晚上喝了可乐，导致辗转反侧到凌晨才睡着。",
    "每次出差住酒店，陌生环境让我很难入睡。",
    "午睡时间过长，导致晚上迟迟无法入眠。",
    "最近开始学习放松训练，帮助自己更快入睡。",
    "因为家人半夜打电话，突然惊醒后再也睡不着。",
    "尝试了一些睡前伸展运动，帮助缓解身体的紧张感。",
    "家里的钟表声音太响，滴答声让我很难入睡。",
    "夜晚总是听到奇怪的声音，心里很害怕，睡不着。",
    "朋友推荐了助眠音乐，听后确实感觉放松了很多。",
    "因为白天喝了太多糖分饮料，晚上睡觉总是觉得精神亢奋。",
    "最近总是失眠，不知道是不是因为饮食不规律。",
    "晚上睡觉时总感觉背部不舒服，可能是床垫太硬了。",
    "每晚睡觉前喝一杯热牛奶，可以帮助更快入睡。",
    "最近天气变化频繁，晚上睡觉总是觉得不适应。",
    "尝试了深呼吸练习后，发现睡眠质量有一点改善。",
    "白天工作太累，晚上躺下就能很快入睡。",
    "最近为了调整作息，每天早上六点准时起床。",
    "晚上喝了咖啡后，心跳加速，导致整晚都没睡好。",
    "深夜醒来后会胡思乱想，越想越清醒，完全睡不着。",
    "睡觉时总觉得脚冰冷，即使盖了厚被子也无济于事。",
    "因为搬家到新环境，总是觉得陌生，导致入睡变慢。",
    "睡觉时听了白噪音，发现比以前更容易放松。",
    "最近试了睡前冥想，发现能够缓解焦虑和压力。",
    "晚上刷手机时间过长，导致入睡时间越来越晚。",
    "使用了新的枕头，发现颈椎支撑更好，睡觉更舒服了。",
    "晚上总是觉得鼻子堵塞，可能是因为房间太干燥。",
    "深夜会做梦，醒来后还记得梦里的细节，感觉很疲惫。",
    "最近尝试了薰衣草助眠喷雾，睡眠质量有所提升。",
    "白天情绪不稳定，晚上入睡时总是胡思乱想。",
    "每次睡眠不足，第二天都会感到头疼和疲倦。",
    "房间的灯光太亮，总觉得缺乏安全感，难以入睡。",
    "朋友推荐了助眠枕头，但用了后感觉效果一般。",
    "晚上因焦虑而无法入睡，总是担心未来的事情。",
    "睡前喝了一杯温水，感觉身体更加放松了。",
    "尝试了芳香疗法，用香薰蜡烛助眠，效果不错。",
    "深夜醒来后发现很难重新入睡，越想越烦躁。",
    "最近一直在练习瑜伽，发现身体和心情都更放松了。",
    "晚饭吃得很撑，导致晚上胃部不适，难以入睡。",
    "最近家里宠物总是半夜跑动，弄得我无法安睡。",
    "半夜醒来后总是想上厕所，导致睡眠被打断。",
]

# 模拟批量插入
default_username = "系统推荐"

for topic in sleep_topics:
    if not ForumPost.objects.filter(content=topic).exists():
        ForumPost.objects.create(
            username=default_username,
            content=topic,
            created_at=datetime.now() - timedelta(minutes=index),
            picture_count=0,
            picture_names=[],
            likes=0,
            replies=0,
            reply_content=[],
            like_user=[],
        )

print("批量插入完成！")